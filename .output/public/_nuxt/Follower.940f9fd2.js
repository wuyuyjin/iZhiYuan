import{i as ut,h as dt,a as pt,d as ft,p as ht,b as ct,e as T,z as mt,L as vt}from"./fade-in-scale-up.cssr.93b43231.js";import{F as x,E as M,l as U,B as D,ao as bt,J as yt,q as wt}from"./browser.6edf931c.js";import{C as F,K as A,R as xt,J as Mt,I as $t,A as k,i as $,r as E,a as L,p as gt,ap as Bt,m as G,t as N,h as S,B as kt}from"./entry.8cc5d05e.js";let I=[];const Q=new WeakMap;function zt(){I.forEach(n=>n(...Q.get(n))),I=[]}function At(n,...t){Q.set(n,t),!I.includes(n)&&I.push(n)===1&&requestAnimationFrame(zt)}function Tt(n,t){let{target:e}=n;for(;e;){if(e.dataset&&e.dataset[t]!==void 0)return!0;e=e.parentElement}return!1}let B,z;const Ct=()=>{var n,t;B=ut?(t=(n=document)===null||n===void 0?void 0:n.fonts)===null||t===void 0?void 0:t.ready:void 0,z=!1,B!==void 0?B.then(()=>{z=!0}):z=!0};Ct();function Ot(n){if(z)return;let t=!1;F(()=>{z||B==null||B.then(()=>{t||n()})}),A(()=>{t=!0})}function qt(n={},t){const e=xt({ctrl:!1,command:!1,win:!1,shift:!1,tab:!1}),{keydown:l,keyup:s}=n,p=o=>{switch(o.key){case"Control":e.ctrl=!0;break;case"Meta":e.command=!0,e.win=!0;break;case"Shift":e.shift=!0;break;case"Tab":e.tab=!0;break}l!==void 0&&Object.keys(l).forEach(m=>{if(m!==o.key)return;const c=l[m];if(typeof c=="function")c(o);else{const{stop:b=!1,prevent:r=!1}=c;b&&o.stopPropagation(),r&&o.preventDefault(),c.handler(o)}})},a=o=>{switch(o.key){case"Control":e.ctrl=!1;break;case"Meta":e.command=!1,e.win=!1;break;case"Shift":e.shift=!1;break;case"Tab":e.tab=!1;break}s!==void 0&&Object.keys(s).forEach(m=>{if(m!==o.key)return;const c=s[m];if(typeof c=="function")c(o);else{const{stop:b=!1,prevent:r=!1}=c;b&&o.stopPropagation(),r&&o.preventDefault(),c.handler(o)}})},f=()=>{(t===void 0||t.value)&&(M("keydown",document,p),M("keyup",document,a)),t!==void 0&&k(t,o=>{o?(M("keydown",document,p),M("keyup",document,a)):(x("keydown",document,p),x("keyup",document,a))})};return dt()?(Mt(f),A(()=>{(t===void 0||t.value)&&(x("keydown",document,p),x("keyup",document,a))})):f(),$t(e)}const Ht=U("n-internal-select-menu"),Et=U("n-internal-select-menu-body"),Z="__disabled__";function R(n){const t=$(pt,null),e=$(ft,null),l=$(ht,null),s=$(Et,null),p=E();if(typeof document<"u"){p.value=document.fullscreenElement;const a=()=>{p.value=document.fullscreenElement};F(()=>{M("fullscreenchange",document,a)}),A(()=>{x("fullscreenchange",document,a)})}return D(()=>{var a;const{to:f}=n;return f!==void 0?f===!1?Z:f===!0?p.value||"body":f:t!=null&&t.value?(a=t.value.$el)!==null&&a!==void 0?a:t.value:e!=null&&e.value?e.value:l!=null&&l.value?l.value:s!=null&&s.value?s.value:f??(p.value||"body")})}R.tdkey=Z;R.propTo={type:[String,Object,Boolean],default:void 0};let w=null;function tt(){if(w===null&&(w=document.getElementById("v-binder-view-measurer"),w===null)){w=document.createElement("div"),w.id="v-binder-view-measurer";const{style:n}=w;n.position="fixed",n.left="0",n.right="0",n.top="0",n.bottom="0",n.pointerEvents="none",n.visibility="hidden",document.body.appendChild(w)}return w.getBoundingClientRect()}function It(n,t){const e=tt();return{top:t,left:n,height:0,width:0,right:e.width-n,bottom:e.height-t}}function V(n){const t=n.getBoundingClientRect(),e=tt();return{left:t.left-e.left,top:t.top-e.top,bottom:e.height+e.top-t.bottom,right:e.width+e.left-t.right,width:t.width,height:t.height}}function Xt(n){return n.nodeType===9?null:n.parentNode}function et(n){if(n===null)return null;const t=Xt(n);if(t===null)return null;if(t.nodeType===9)return document;if(t.nodeType===1){const{overflow:e,overflowX:l,overflowY:s}=getComputedStyle(t);if(/(auto|scroll|overlay)/.test(e+s+l))return t}return et(t)}const Yt=L({name:"Binder",props:{syncTargetWithParent:Boolean,syncTarget:{type:Boolean,default:!0}},setup(n){var t;gt("VBinder",(t=Bt())===null||t===void 0?void 0:t.proxy);const e=$("VBinder",null),l=E(null),s=i=>{l.value=i,e&&n.syncTargetWithParent&&e.setTargetRef(i)};let p=[];const a=()=>{let i=l.value;for(;i=et(i),i!==null;)p.push(i);for(const y of p)M("scroll",y,b,!0)},f=()=>{for(const i of p)x("scroll",i,b,!0);p=[]},o=new Set,m=i=>{o.size===0&&a(),o.has(i)||o.add(i)},c=i=>{o.has(i)&&o.delete(i),o.size===0&&f()},b=()=>{At(r)},r=()=>{o.forEach(i=>i())},u=new Set,h=i=>{u.size===0&&M("resize",window,v),u.has(i)||u.add(i)},d=i=>{u.has(i)&&u.delete(i),u.size===0&&x("resize",window,v)},v=()=>{u.forEach(i=>i())};return A(()=>{x("resize",window,v),f()}),{targetRef:l,setTargetRef:s,addScrollListener:m,removeScrollListener:c,addResizeListener:h,removeResizeListener:d}},render(){return ct("binder",this.$slots)}}),Jt=Yt,Ut=L({name:"Target",setup(){const{setTargetRef:n,syncTarget:t}=$("VBinder");return{syncTarget:t,setTargetDirective:{mounted:n,updated:n}}},render(){const{syncTarget:n,setTargetDirective:t}=this;return n?G(T("follower",this.$slots),[[t]]):T("follower",this.$slots)}}),{c:C}=bt(),Nt="vueuc-style",O={top:"bottom",bottom:"top",left:"right",right:"left"},q={start:"end",center:"center",end:"start"},j={top:"height",bottom:"height",left:"width",right:"width"},St={"bottom-start":"top left",bottom:"top center","bottom-end":"top right","top-start":"bottom left",top:"bottom center","top-end":"bottom right","right-start":"top left",right:"center left","right-end":"bottom left","left-start":"top right",left:"center right","left-end":"bottom right"},Vt={"bottom-start":"bottom left",bottom:"bottom center","bottom-end":"bottom right","top-start":"top left",top:"top center","top-end":"top right","right-start":"top right",right:"center right","right-end":"bottom right","left-start":"top left",left:"center left","left-end":"bottom left"},jt={"bottom-start":"right","bottom-end":"left","top-start":"right","top-end":"left","right-start":"bottom","right-end":"top","left-start":"bottom","left-end":"top"},H={top:!0,bottom:!1,left:!0,right:!1},J={top:"end",bottom:"start",left:"end",right:"start"};function Dt(n,t,e,l,s,p){if(!s||p)return{placement:n,top:0,left:0};const[a,f]=n.split("-");let o=f??"center",m={top:0,left:0};const c=(u,h,d)=>{let v=0,i=0;const y=e[u]-t[h]-t[u];return y>0&&l&&(d?i=H[h]?y:-y:v=H[h]?y:-y),{left:v,top:i}},b=a==="left"||a==="right";if(o!=="center"){const u=jt[n],h=O[u],d=j[u];if(e[d]>t[d]){if(t[u]+t[d]<e[d]){const v=(e[d]-t[d])/2;t[u]<v||t[h]<v?t[u]<t[h]?(o=q[f],m=c(d,h,b)):m=c(d,u,b):o="center"}}else e[d]<t[d]&&t[h]<0&&t[u]>t[h]&&(o=q[f])}else{const u=a==="bottom"||a==="top"?"left":"top",h=O[u],d=j[u],v=(e[d]-t[d])/2;(t[u]<v||t[h]<v)&&(t[u]>t[h]?(o=J[u],m=c(d,u,b)):(o=J[h],m=c(d,h,b)))}let r=a;return t[a]<e[j[a]]&&t[a]<t[O[a]]&&(r=O[a]),{placement:o!=="center"?`${r}-${o}`:r,left:m.left,top:m.top}}function Ft(n,t){return t?Vt[n]:St[n]}function Lt(n,t,e,l,s,p){if(p)switch(n){case"bottom-start":return{top:`${Math.round(e.top-t.top+e.height)}px`,left:`${Math.round(e.left-t.left)}px`,transform:"translateY(-100%)"};case"bottom-end":return{top:`${Math.round(e.top-t.top+e.height)}px`,left:`${Math.round(e.left-t.left+e.width)}px`,transform:"translateX(-100%) translateY(-100%)"};case"top-start":return{top:`${Math.round(e.top-t.top)}px`,left:`${Math.round(e.left-t.left)}px`,transform:""};case"top-end":return{top:`${Math.round(e.top-t.top)}px`,left:`${Math.round(e.left-t.left+e.width)}px`,transform:"translateX(-100%)"};case"right-start":return{top:`${Math.round(e.top-t.top)}px`,left:`${Math.round(e.left-t.left+e.width)}px`,transform:"translateX(-100%)"};case"right-end":return{top:`${Math.round(e.top-t.top+e.height)}px`,left:`${Math.round(e.left-t.left+e.width)}px`,transform:"translateX(-100%) translateY(-100%)"};case"left-start":return{top:`${Math.round(e.top-t.top)}px`,left:`${Math.round(e.left-t.left)}px`,transform:""};case"left-end":return{top:`${Math.round(e.top-t.top+e.height)}px`,left:`${Math.round(e.left-t.left)}px`,transform:"translateY(-100%)"};case"top":return{top:`${Math.round(e.top-t.top)}px`,left:`${Math.round(e.left-t.left+e.width/2)}px`,transform:"translateX(-50%)"};case"right":return{top:`${Math.round(e.top-t.top+e.height/2)}px`,left:`${Math.round(e.left-t.left+e.width)}px`,transform:"translateX(-100%) translateY(-50%)"};case"left":return{top:`${Math.round(e.top-t.top+e.height/2)}px`,left:`${Math.round(e.left-t.left)}px`,transform:"translateY(-50%)"};case"bottom":default:return{top:`${Math.round(e.top-t.top+e.height)}px`,left:`${Math.round(e.left-t.left+e.width/2)}px`,transform:"translateX(-50%) translateY(-100%)"}}switch(n){case"bottom-start":return{top:`${Math.round(e.top-t.top+e.height+l)}px`,left:`${Math.round(e.left-t.left+s)}px`,transform:""};case"bottom-end":return{top:`${Math.round(e.top-t.top+e.height+l)}px`,left:`${Math.round(e.left-t.left+e.width+s)}px`,transform:"translateX(-100%)"};case"top-start":return{top:`${Math.round(e.top-t.top+l)}px`,left:`${Math.round(e.left-t.left+s)}px`,transform:"translateY(-100%)"};case"top-end":return{top:`${Math.round(e.top-t.top+l)}px`,left:`${Math.round(e.left-t.left+e.width+s)}px`,transform:"translateX(-100%) translateY(-100%)"};case"right-start":return{top:`${Math.round(e.top-t.top+l)}px`,left:`${Math.round(e.left-t.left+e.width+s)}px`,transform:""};case"right-end":return{top:`${Math.round(e.top-t.top+e.height+l)}px`,left:`${Math.round(e.left-t.left+e.width+s)}px`,transform:"translateY(-100%)"};case"left-start":return{top:`${Math.round(e.top-t.top+l)}px`,left:`${Math.round(e.left-t.left+s)}px`,transform:"translateX(-100%)"};case"left-end":return{top:`${Math.round(e.top-t.top+e.height+l)}px`,left:`${Math.round(e.left-t.left+s)}px`,transform:"translateX(-100%) translateY(-100%)"};case"top":return{top:`${Math.round(e.top-t.top+l)}px`,left:`${Math.round(e.left-t.left+e.width/2+s)}px`,transform:"translateY(-100%) translateX(-50%)"};case"right":return{top:`${Math.round(e.top-t.top+e.height/2+l)}px`,left:`${Math.round(e.left-t.left+e.width+s)}px`,transform:"translateY(-50%)"};case"left":return{top:`${Math.round(e.top-t.top+e.height/2+l)}px`,left:`${Math.round(e.left-t.left+s)}px`,transform:"translateY(-50%) translateX(-100%)"};case"bottom":default:return{top:`${Math.round(e.top-t.top+e.height+l)}px`,left:`${Math.round(e.left-t.left+e.width/2+s)}px`,transform:"translateX(-50%)"}}}const _t=C([C(".v-binder-follower-container",{position:"absolute",left:"0",right:"0",top:"0",height:"0",pointerEvents:"none",zIndex:"auto"}),C(".v-binder-follower-content",{position:"absolute",zIndex:"auto"},[C("> *",{pointerEvents:"all"})])]),Gt=L({name:"Follower",inheritAttrs:!1,props:{show:Boolean,enabled:{type:Boolean,default:void 0},placement:{type:String,default:"bottom"},syncTrigger:{type:Array,default:["resize","scroll"]},to:[String,Object],flip:{type:Boolean,default:!0},internalShift:Boolean,x:Number,y:Number,width:String,minWidth:String,containerClass:String,teleportDisabled:Boolean,zindexable:{type:Boolean,default:!0},zIndex:Number,overlap:Boolean},setup(n){const t=$("VBinder"),e=D(()=>n.enabled!==void 0?n.enabled:n.show),l=E(null),s=E(null),p=()=>{const{syncTrigger:r}=n;r.includes("scroll")&&t.addScrollListener(o),r.includes("resize")&&t.addResizeListener(o)},a=()=>{t.removeScrollListener(o),t.removeResizeListener(o)};F(()=>{e.value&&(o(),p())});const f=yt();_t.mount({id:"vueuc/binder",head:!0,anchorMetaName:Nt,ssr:f}),A(()=>{a()}),Ot(()=>{e.value&&o()});const o=()=>{if(!e.value)return;const r=l.value;if(r===null)return;const u=t.targetRef,{x:h,y:d,overlap:v}=n,i=h!==void 0&&d!==void 0?It(h,d):V(u);r.style.setProperty("--v-target-width",`${Math.round(i.width)}px`),r.style.setProperty("--v-target-height",`${Math.round(i.height)}px`);const{width:y,minWidth:X,placement:_,internalShift:nt,flip:ot}=n;r.setAttribute("v-placement",_),v?r.setAttribute("v-overlap",""):r.removeAttribute("v-overlap");const{style:g}=r;y==="target"?g.width=`${i.width}px`:y!==void 0?g.width=y:g.width="",X==="target"?g.minWidth=`${i.width}px`:X!==void 0?g.minWidth=X:g.minWidth="";const rt=V(r),it=V(s.value),{left:W,top:K,placement:Y}=Dt(_,i,rt,nt,ot,v),P=Ft(Y,v),{left:lt,top:st,transform:at}=Lt(Y,it,i,K,W,v);r.setAttribute("v-placement",Y),r.style.setProperty("--v-offset-left",`${Math.round(W)}px`),r.style.setProperty("--v-offset-top",`${Math.round(K)}px`),r.style.transform=`translateX(${lt}) translateY(${st}) ${at}`,r.style.setProperty("--v-transform-origin",P),r.style.transformOrigin=P};k(e,r=>{r?(p(),m()):a()});const m=()=>{kt().then(o).catch(r=>console.error(r))};["placement","x","y","internalShift","flip","width","overlap","minWidth"].forEach(r=>{k(N(n,r),o)}),["teleportDisabled"].forEach(r=>{k(N(n,r),m)}),k(N(n,"syncTrigger"),r=>{r.includes("resize")?t.addResizeListener(o):t.removeResizeListener(o),r.includes("scroll")?t.addScrollListener(o):t.removeScrollListener(o)});const c=wt(),b=D(()=>{const{to:r}=n;if(r!==void 0)return r;c.value});return{VBinder:t,mergedEnabled:e,offsetContainerRef:s,followerRef:l,mergedTo:b,syncPosition:o}},render(){return S(vt,{show:this.show,to:this.mergedTo,disabled:this.teleportDisabled},{default:()=>{var n,t;const e=S("div",{class:["v-binder-follower-container",this.containerClass],ref:"offsetContainerRef"},[S("div",{class:"v-binder-follower-content",ref:"followerRef"},(t=(n=this.$slots).default)===null||t===void 0?void 0:t.call(n))]);return this.zindexable?G(e,[[mt,{enabled:this.mergedEnabled,zIndex:this.zIndex}]]):e}})}});export{Jt as V,R as a,Ut as b,Gt as c,Nt as d,C as e,Et as f,At as g,Tt as h,Ht as i,qt as u};
