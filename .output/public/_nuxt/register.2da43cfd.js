import{_ as V}from"./nuxt-link.8ce08475.js";import{z as $,r as j,G as D,e as E,f as e,w as o,D as z,F as G,o as H,q as r,u as a,H as d,l as p,s as b,x as M,y as A}from"./entry.23c03e9b.js";import{t as J,o as K,s as m,u as O,a as _}from"./vee-validate.esm.991ef16c.js";import{a as T,b as C}from"./api.aababa14.js";import{_ as Q}from"./Radio.f0de744f.js";import{_ as W}from"./RadioGroup.89c2d387.js";import{_ as X}from"./Card.d36d8e49.js";import{_ as Y}from"./Input.18ea4f6e.js";import{_ as Z,a as ee}from"./FormItem.4811c7e8.js";import{_ as oe}from"./Button.8c0c91a9.js";import{_ as te}from"./Space.f9a3f419.js";import"./browser.3909655e.js";import"./Close.49903972.js";import"./format-length.c9d165c6.js";import"./get.bec29ee2.js";const ae=c=>(M("data-v-dd2ee2af"),c=c(),A(),c),se={class:"text-sm text-red-700"},ne={class:"text-sm text-red-700"},le={class:"text-sm text-red-700"},re={class:"text-sm text-red-700"},ie=ae(()=>p("button",{class:"bg-green-500/100 rounded-lg w-1/4 h-10 text-white"}," 注册 ",-1)),ue={__name:"register",setup(c){const L=j(null),P=J(K({email:m().nonempty("This is required").email({message:"Must be a valid email"}),password:m().nonempty("This is required").min(6,{message:"Too short"}),confirmPassword:m().nonempty("This is required").min(6,{message:"Too short"}),Code:m().nonempty("This is required").min(4,{message:"请输入四位验证码"}),sex:m().nonempty("This is required").min({message:"请选择你的性别"})})),{handleSubmit:q,errors:f}=O({validationSchema:P}),N=D(),{value:n}=_("email"),{value:i}=_("password"),{value:v}=_("confirmPassword"),{value:g}=_("Code"),{value:h}=_("sex");function U(){n.value,n.value===""?alert("请先输入邮箱！"):(T.get(C+"/captcha?email="+n.value).then(l=>{console.log(l)}).catch(l=>{console.log(l)}),alert("发送成功！")),alert("email="+n.value)}const k=q(l=>{i.value===v.value?T.post(C+"/User/register",{email:n.value,password:i.value,sex:h.value,time:0,Code:g.value}).then(t=>{console.log(t),alert("登陆成功"),N.push({path:"/Login/login"})}).catch(t=>{console.log(t),alert("登录失败")}):alert("两次输入的密码不一样，请重新输入密码")});return(l,t)=>{const x=Y,u=Z,I=oe,S=Q,y=te,R=W,B=ee,w=V,F=X;return H(),E(G,null,[e(F,{title:"i志愿用户注册",class:"container mx-auto box-border h-96 w-96 login rounded-lg"},{action:o(()=>[e(y,{justify:"space-between"},{default:o(()=>[e(w,{to:"/Login/admitLogin"},{default:o(()=>[r("用户登录")]),_:1}),e(w,{to:"/Login/admitLogin"},{default:o(()=>[r("管理员登录")]),_:1}),e(w,{to:"/Login/admitRegister"},{default:o(()=>[r("管理员注册")]),_:1}),e(w,{to:"/Login/forgetPass"},{default:o(()=>[r("忘记密码？")]),_:1})]),_:1})]),default:o(()=>[e(y,{vertical:""},{default:o(()=>[e(B,{ref_key:"formRef",ref:L,"label-placement":"left","label-width":70,onSubmit:a(k)},{default:o(()=>[e(u,{label:"email",path:"email"},{default:o(()=>[e(x,{value:a(n),"onUpdate:value":t[0]||(t[0]=s=>d(n)?n.value=s:null),placeholder:"Email",type:"email",name:"email"},null,8,["value"])]),_:1}),p("div",se,b(a(f).email),1),e(u,{label:"密码",path:"password"},{default:o(()=>[e(x,{value:a(i),"onUpdate:value":t[1]||(t[1]=s=>d(i)?i.value=s:null),placeholder:"password",type:"password",name:"password"},null,8,["value"])]),_:1}),p("div",ne,b(a(f).password),1),e(u,{label:"确认密码",path:"password"},{default:o(()=>[e(x,{value:a(v),"onUpdate:value":t[2]||(t[2]=s=>d(v)?v.value=s:null),placeholder:"confirmPassword",type:"password",name:"confirmPassword"},null,8,["value"])]),_:1}),p("div",le,b(a(f).confirmPassword),1),e(u,{path:"Code",label:"验证码"},{default:o(()=>[e(x,{value:a(g),"onUpdate:value":t[3]||(t[3]=s=>d(g)?g.value=s:null),placeholder:"请输入4位验证码",type:"text",name:"Code"},null,8,["value"]),r("                 "),e(I,{type:"info",onClick:U,class:"rounded-lg"},{default:o(()=>[r("发送验证码")]),_:1})]),_:1}),p("div",re,b(a(f).Code),1),e(u,{label:"性别",path:"sex"},{default:o(()=>[e(R,{value:a(h),"onUpdate:value":t[4]||(t[4]=s=>d(h)?h.value=s:null)},{default:o(()=>[e(y,null,{default:o(()=>[e(S,{label:"男",value:"男"}),e(S,{label:"女",value:"女"})]),_:1})]),_:1},8,["value"])]),_:1}),ie]),_:1},8,["onSubmit"])]),_:1})]),_:1}),z(l.$slots,"default",{},void 0,!0)],64)}}},Ce=$(ue,[["__scopeId","data-v-dd2ee2af"]]);export{Ce as default};
