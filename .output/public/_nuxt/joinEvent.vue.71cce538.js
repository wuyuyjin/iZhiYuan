import{u as r}from"./squareStore.4896160c.js";import{a as u,b as _}from"./api.5d75f8ba.js";import{a as d,r as f,o as g,e as v,f as i,w as k,q as w,F as x}from"./entry.8cc5d05e.js";import{u as C,_ as h}from"./use-message.b9be53ef.js";import{_ as b}from"./Button.f7a6571a.js";const D=d({__name:"joinEvent",setup(y){const t=C(),e=f(!1),c=r().action.actionId;function l(){const n=new FormData;n.append("id",c),u({method:"post",url:_+"/User/applyActivity",data:n,headers:{token:sessionStorage.getItem("token"),"Content-Type":"multipart/form-data"}}).then(o=>{console.log(o.data);const a=!0;r().Boolean=a,t.success("参加成功！666")}).catch(o=>{console.log(o),t.error("未参加成功，请重新点击！")})}function m(){t.success("111111")}return(n,o)=>{const a=b,p=h;return g(),v(x,null,[i(a,{onClick:o[0]||(o[0]=s=>e.value=!0),type:"warning",class:"mt-3"},{default:k(()=>[w(" 参加活动 ")]),_:1}),i(p,{show:e.value,"onUpdate:show":o[1]||(o[1]=s=>e.value=s),preset:"dialog",title:"参加活动",content:"你确认参加该活动?","positive-text":"确认","negative-text":"算了",onPositiveClick:l,onNegativeClick:m},null,8,["show"])],64)}}});export{D as _};
