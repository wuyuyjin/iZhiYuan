import{u}from"./squareStore.4896160c.js";import{a as v,b as C}from"./api.5d75f8ba.js";import{a as k,r as i,o as w,e as x,f as r,w as c,q as p,F as b}from"./entry.8cc5d05e.js";import{u as S,_ as B}from"./use-message.b9be53ef.js";import{_ as N}from"./Button.f7a6571a.js";import{_ as h}from"./Input.445e887b.js";const M=k({__name:"signOut",setup(y){const n=S(),s=i(!1),m=u().action.actionId,a=i(null);function _(){const e=new FormData;e.append("SingOutCode",a.value),e.append("id",m),v.post(C+"/User/singoutActivity",e,{headers:{"Content-Type":"multipart/form-data",token:sessionStorage.getItem("token")}}).then(o=>{console.log(o);const l=!0;u().Boolean=l,n.success("签退成功！666")}).catch(o=>{console.log(o),n.error("签退失败，请联系管理员！")})}function d(){n.success("111111")}return(e,o)=>{const l=N,f=h,g=B;return w(),x(b,null,[r(l,{onClick:o[0]||(o[0]=t=>s.value=!0),type:"error",class:"mt-3"},{default:c(()=>[p(" 签退活动 ")]),_:1}),r(g,{show:s.value,"onUpdate:show":o[2]||(o[2]=t=>s.value=t),preset:"dialog",title:"签退",content:"你确认签退?","positive-text":"确认","negative-text":"取消",onPositiveClick:_,onNegativeClick:d},{default:c(()=>[p(" 请让管理员给你签退验证码："),r(f,{value:a.value,"onUpdate:value":o[1]||(o[1]=t=>a.value=t)},null,8,["value"])]),_:1},8,["show"])],64)}}});export{M as _};
