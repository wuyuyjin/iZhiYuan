import {
  init_vue_runtime_esm_bundler
} from "./chunk-MQ6OF3L2.js";
import {
  inject
} from "./chunk-MZNT5ND3.js";
import {
  __esm,
  __export
} from "./chunk-JMUPIC2K.js";

// node_modules/.pnpm/@css-render+vue3-ssr@0.15.12_vue@3.2.47/node_modules/@css-render/vue3-ssr/esm/index.js
var esm_exports = {};
__export(esm_exports, {
  setup: () => setup,
  useSsrAdapter: () => useSsrAdapter
});
function createStyleString(id, style) {
  return `<style cssr-id="${id}">
${style}
</style>`;
}
function ssrAdapter(id, style) {
  const ssrContext = inject(ssrContextKey, null);
  if (ssrContext === null) {
    console.error("[css-render/vue3-ssr]: no ssr context found.");
    return;
  }
  const { styles, ids } = ssrContext;
  if (ids.has(id))
    return;
  if (styles !== null) {
    ids.add(id);
    styles.push(createStyleString(id, style));
  }
}
function useSsrAdapter() {
  if (isBrowser)
    return void 0;
  const context = inject(ssrContextKey, null);
  if (context === null)
    return void 0;
  return {
    adapter: ssrAdapter,
    context
  };
}
function setup(app) {
  const styles = [];
  const ssrContext = {
    styles,
    ids: /* @__PURE__ */ new Set()
  };
  app.provide(ssrContextKey, ssrContext);
  return {
    collect() {
      const res = styles.join("\n");
      styles.length = 0;
      return res;
    }
  };
}
var ssrContextKey, isBrowser;
var init_esm = __esm({
  "node_modules/.pnpm/@css-render+vue3-ssr@0.15.12_vue@3.2.47/node_modules/@css-render/vue3-ssr/esm/index.js"() {
    init_vue_runtime_esm_bundler();
    ssrContextKey = Symbol("@css-render/vue3-ssr");
    isBrowser = typeof document !== "undefined";
  }
});

export {
  useSsrAdapter,
  setup,
  esm_exports,
  init_esm
};
//# sourceMappingURL=chunk-G47RNPT4.js.map
