{
  "version": 3,
  "sources": ["../../../../.pnpm/@css-render+vue3-ssr@0.15.12_vue@3.2.47/node_modules/@css-render/vue3-ssr/esm/index.js"],
  "sourcesContent": ["import { inject } from 'vue';\nconst ssrContextKey = Symbol('@css-render/vue3-ssr');\nfunction createStyleString(id, style) {\n    return `<style cssr-id=\"${id}\">\\n${style}\\n</style>`;\n}\nfunction ssrAdapter(id, style) {\n    const ssrContext = inject(ssrContextKey, null);\n    if (ssrContext === null) {\n        console.error('[css-render/vue3-ssr]: no ssr context found.');\n        return;\n    }\n    const { styles, ids } = ssrContext;\n    // we need to impl other options to make it behaves the same as the client side\n    if (ids.has(id))\n        return;\n    if (styles !== null) {\n        ids.add(id);\n        styles.push(createStyleString(id, style));\n    }\n}\nconst isBrowser = typeof document !== 'undefined';\nexport function useSsrAdapter() {\n    if (isBrowser)\n        return undefined;\n    const context = inject(ssrContextKey, null);\n    if (context === null)\n        return undefined;\n    return {\n        adapter: ssrAdapter,\n        context\n    };\n}\nexport function setup(app) {\n    const styles = [];\n    const ssrContext = {\n        styles,\n        ids: new Set()\n    };\n    app.provide(ssrContextKey, ssrContext);\n    return {\n        collect() {\n            const res = styles.join('\\n');\n            styles.length = 0;\n            return res;\n        }\n    };\n}\n"],
  "mappings": ";;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,SAAS,kBAAkB,IAAI,OAAO;AAClC,SAAO,mBAAmB;AAAA,EAAS;AAAA;AACvC;AACA,SAAS,WAAW,IAAI,OAAO;AAC3B,QAAM,aAAa,OAAO,eAAe,IAAI;AAC7C,MAAI,eAAe,MAAM;AACrB,YAAQ,MAAM,8CAA8C;AAC5D;AAAA,EACJ;AACA,QAAM,EAAE,QAAQ,IAAI,IAAI;AAExB,MAAI,IAAI,IAAI,EAAE;AACV;AACJ,MAAI,WAAW,MAAM;AACjB,QAAI,IAAI,EAAE;AACV,WAAO,KAAK,kBAAkB,IAAI,KAAK,CAAC;AAAA,EAC5C;AACJ;AAEO,SAAS,gBAAgB;AAC5B,MAAI;AACA,WAAO;AACX,QAAM,UAAU,OAAO,eAAe,IAAI;AAC1C,MAAI,YAAY;AACZ,WAAO;AACX,SAAO;AAAA,IACH,SAAS;AAAA,IACT;AAAA,EACJ;AACJ;AACO,SAAS,MAAM,KAAK;AACvB,QAAM,SAAS,CAAC;AAChB,QAAM,aAAa;AAAA,IACf;AAAA,IACA,KAAK,oBAAI,IAAI;AAAA,EACjB;AACA,MAAI,QAAQ,eAAe,UAAU;AACrC,SAAO;AAAA,IACH,UAAU;AACN,YAAM,MAAM,OAAO,KAAK,IAAI;AAC5B,aAAO,SAAS;AAChB,aAAO;AAAA,IACX;AAAA,EACJ;AACJ;AA9CA,IACM,eAmBA;AApBN;AAAA;AAAA;AACA,IAAM,gBAAgB,OAAO,sBAAsB;AAmBnD,IAAM,YAAY,OAAO,aAAa;AAAA;AAAA;",
  "names": []
}
