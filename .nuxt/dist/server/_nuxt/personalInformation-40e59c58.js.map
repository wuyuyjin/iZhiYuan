{"version":3,"file":"personalInformation-40e59c58.js","sources":["../../../../pages/adminInfo/personalInformation.vue"],"sourcesContent":["<template>\r\n  <div class=\"container mx-auto w-3/4 mt-5\">\r\n    <NavigationBar />\r\n    <n-space vertical class=\"mt-5\">\r\n      <n-layout has-sider>\r\n        <n-layout-sider\r\n            bordered\r\n            collapse-mode=\"width\"\r\n            :collapsed-width=\"64\"\r\n            :width=\"240\"\r\n            show-trigger\r\n            :inverted=\"inverted\"\r\n        >\r\n          <n-menu\r\n              :inverted=\"inverted\"\r\n              :collapsed-width=\"64\"\r\n              :collapsed-icon-size=\"22\"\r\n              :options=\"menuOptions\"\r\n          />\r\n        </n-layout-sider>\r\n        <n-layout>\r\n          <n-space vertical class=\"app\">\r\n            <n-card title=\"小帅小美的个人信息\" size=\"huge\">\r\n              <NButton @click=\"personal\" type=\"info\">获取信息</NButton><br>\r\n              <n-radio-group\r\n                  v-model:value=\"size\"\r\n                  name=\"left-size\"\r\n                  style=\"margin-bottom: 12px\"\r\n              >\r\n              </n-radio-group>\r\n              <n-form\r\n                  ref=\"formRef\"\r\n                  :model=\"model\"\r\n                  label-placement=\"left\"\r\n                  label-width=\"auto\"\r\n                  require-mark-placement=\"right-hanging\"\r\n                  :size=\"size\"\r\n                  :style=\"{\r\n      maxWidth: '800px'\r\n    }\"\r\n              >\r\n                <n-form-item label=\"email\" path=\"email\">\r\n                  <n-input v-model:value=\"model.email\" :disabled=\"true\"/>\r\n                </n-form-item>\r\n                <n-form-item label=\"password\" path=\"password\">\r\n                  <n-input v-model:value=\"model.password\" :disabled=\"true\"/>\r\n                </n-form-item>\r\n              </n-form>\r\n            </n-card>\r\n          </n-space>\r\n        </n-layout>\r\n      </n-layout>\r\n    </n-space>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script setup lang=\"ts\">\r\nimport NavigationBar from \"~/pages/FunctionalArea/navigationBar.vue\";\r\nimport {h, Component} from 'vue'\r\nimport {NIcon} from 'naive-ui'\r\nimport {\r\n  BookOutline as BookIcon,\r\n} from '@vicons/ionicons5'\r\n\r\nimport {useMyInfo} from \"~/stores/myInfo\";\r\nimport axios from \"axios\";\r\nimport api from \"~/api/api\";\r\nimport {useType} from \"~/stores/type\";\r\n\r\nconst model = ref({\r\n  email: '',\r\n  password: '',\r\n})\r\n\r\nmodel.value = useMyInfo().myInfo\r\n\r\nfunction renderIcon(icon: Component) {\r\n  return () => h(NIcon, null, {default: () => h(icon)})\r\n}\r\n\r\nconst menuOptions = [\r\n  {\r\n    label: () => h(\r\n        \"a\",\r\n        {\r\n          href: \"/adminInfo/personalInformation\",\r\n          target: \"_self\",\r\n          rel: \"noopenner noreferrer\",\r\n\r\n        },\r\n        \"个人信息\"\r\n    ),\r\n    key: \"hear-the-wind-sing\",\r\n    icon: renderIcon(BookIcon)\r\n  },\r\n  {\r\n    label: () => h(\r\n        \"a\",\r\n        {\r\n          href: \"/adminInfo/viewReleaseEvent\",\r\n          target: \"_self\",\r\n          rel: \"noopenner noreferrer\",\r\n        },\r\n        '查看活动'\r\n    ),\r\n    key: 'pinball-1973',\r\n    icon: renderIcon(BookIcon),\r\n  },\r\n  {\r\n    label: () => h(\r\n        \"a\",\r\n        {\r\n          href: \"/adminInfo/changePassword\",\r\n          target: \"_self\",\r\n          rel: \"noopenner noreferrer\"\r\n\r\n        },\r\n        \"修改密码\"\r\n    ),\r\n    key: 'a-wild-sheep-chase',\r\n    disabled: false,\r\n    icon: renderIcon(BookIcon)\r\n  },\r\n  {\r\n    label: '暂时没有想好',\r\n    key: 'dance-dance-dance',\r\n    icon: renderIcon(BookIcon),\r\n    disabled: true\r\n  }\r\n]\r\n\r\nfunction personal(){\r\n  if (sessionStorage.getItem('type') === 'admit') {\r\n    axios.get(api + '/Admin/showMyMessage', {\r\n      headers: {token: sessionStorage.getItem('token')}\r\n    })\r\n        .then(response => {\r\n          console.log(response)\r\n          useMyInfo().myInfo.email = response.data.data.email\r\n          useMyInfo().myInfo.password = response.data.data.password\r\n          // useMyInfo().myInfo = response.data.data\r\n          console.log('useMyInfo().myInfo=' + useMyInfo().myInfo.email)\r\n        }).catch(errors => {\r\n      console.log(errors)\r\n    })\r\n  }\r\n  else {\r\n    axios.get(api + '/User/showMyMessage', {\r\n      headers: {token: sessionStorage.getItem('token')}\r\n    })\r\n        .then(response => {\r\n          console.log(response)\r\n          useMyInfo().myInfo.email = response.data.data.email\r\n          useMyInfo().myInfo.password = response.data.data.password\r\n          // useMyInfo().myInfo = response.data.data\r\n          console.log('useMyInfo().myInfo=' + useMyInfo().myInfo.email)\r\n        }).catch(errors => {\r\n      console.log(errors)\r\n    })\r\n  }\r\n}\r\n\r\n\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.app {\r\n  margin-top: 50px;\r\n  text-align: center;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: column;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n}\r\n\r\nn-card {\r\n  margin: auto;\r\n}\r\n</style>"],"names":["BookIcon"],"mappings":"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"}