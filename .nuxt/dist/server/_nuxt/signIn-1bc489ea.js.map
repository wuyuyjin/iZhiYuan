{"version":3,"file":"signIn-1bc489ea.js","sources":["../../../../pages/Info/signIn.vue"],"sourcesContent":["<template>\r\n  <n-button @click=\"showModal = true\" type=\"info\" class=\"mt-3\">\r\n    签到活动\r\n  </n-button>\r\n  <n-modal\r\n      v-model:show=\"showModal\"\r\n      preset=\"dialog\"\r\n      title=\"签到\"\r\n      content=\"你确认签到?\"\r\n      positive-text=\"确认\"\r\n      negative-text=\"取消\"\r\n      @positive-click=\"submitCallback\"\r\n      @negative-click=\"cancelCallback\"\r\n  >\r\n   请让管理员给你签到验证码：<NInput v-model:value=\"SinginCode\"></NInput>\r\n  </n-modal>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport { ref } from 'vue'\r\nimport { useMessage } from 'naive-ui'\r\nimport {useSquareStore} from \"~/stores/squareStore\";\r\nimport axios from \"axios\";\r\nimport api from \"~/api/api\";\r\n\r\nconst message = useMessage()\r\nconst showModal = ref(false)\r\nconst id = useSquareStore().action.actionId\r\nconst SinginCode = ref(null)\r\nfunction submitCallback() {\r\n  const formData = new FormData()\r\n  formData.append('SinginCode', SinginCode.value)\r\n  formData.append('id', id)\r\n\r\n  axios.post(api+'/User/singinActivity', formData, {\r\n    headers: {\r\n      'Content-Type': 'multipart/form-data',\r\n      'token': sessionStorage.getItem('token')\r\n    }\r\n  }).then(response => {\r\n    console.log(response)\r\n    const Boolean = true\r\n    useSquareStore().Boolean = Boolean\r\n    message.success('签到成功！666')\r\n  }).catch(errors => {\r\n    console.log(errors)\r\n    message.error('签到失败，请联系管理员！')\r\n  })\r\n  // alert(SinginCode.value)\r\n  // alert(useSquareStore().action)\r\n}\r\n\r\nfunction cancelCallback() {\r\n  message.success('111111')\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAyBA,UAAA,UAAA;AACA,UAAA,YAAA,IAAA,KAAA;AACA,UAAA,KAAA,iBAAA,OAAA;AACA,UAAA,aAAA,IAAA,IAAA;AACA,aAAA,iBAAA;AACE,YAAA,WAAA,IAAA;AACA,eAAA,OAAA,cAAA,WAAA,KAAA;AACA,eAAA,OAAA,MAAA,EAAA;AAEA,YAAA,KAAA,MAAA,wBAAA,UAAA;AAAA,QAAiD,SAAA;AAAA,UACtC,gBAAA;AAAA,UACS,SAAA,eAAA,QAAA,OAAA;AAAA,QACuB;AAAA,MACzC,CAAA,EAAA,KAAA,CAAA,aAAA;AAEA,gBAAA,IAAA,QAAA;AACA,cAAA,UAAA;AACA,uBAAA,EAAA,UAAA;AACA,gBAAA,QAAA,UAAA;AAAA,MAA0B,CAAA,EAAA,MAAA,CAAA,WAAA;AAE1B,gBAAA,IAAA,MAAA;AACA,gBAAA,MAAA,cAAA;AAAA,MAA4B,CAAA;AAAA,IAC7B;AAKH,aAAA,iBAAA;AACE,cAAA,QAAA,QAAA;AAAA,IAAwB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}