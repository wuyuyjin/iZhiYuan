{"version":3,"file":"joinEvent-404e8968.js","sources":["../../../../pages/Info/joinEvent.vue"],"sourcesContent":["<template>\r\n  <n-button @click=\"showModal = true\" type=\"warning\" class=\"mt-3\">\r\n    参加活动\r\n  </n-button>\r\n  <n-modal\r\n      v-model:show=\"showModal\"\r\n      preset=\"dialog\"\r\n      title=\"参加活动\"\r\n      content=\"你确认参加该活动?\"\r\n      positive-text=\"确认\"\r\n      negative-text=\"算了\"\r\n      @positive-click=\"submitForm\"\r\n      @negative-click=\"cancelCallback\"\r\n  />\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport { ref } from 'vue'\r\nimport { useMessage } from 'naive-ui'\r\nimport { useSquareStore } from \"~/stores/squareStore\";\r\nimport axios from \"axios\";\r\nimport api from \"~/api/api\";\r\n\r\nconst message = useMessage()\r\nconst showModal = ref(false)\r\nconst id = useSquareStore().action.actionId\r\n\r\nfunction submitForm() {\r\n  const formData = new FormData();\r\n  formData.append('id', id);\r\n\r\n  axios({\r\n    method: 'post',\r\n    url: api + '/User/applyActivity',\r\n    data: formData,\r\n    headers: {\r\n      token: sessionStorage.getItem('token'),\r\n      'Content-Type': 'multipart/form-data'\r\n    }\r\n  })\r\n      .then(response => {\r\n        console.log(response.data);\r\n        const Boolean = true;\r\n        useSquareStore().Boolean = Boolean;\r\n        message.success('参加成功！666');\r\n      })\r\n      .catch(errors => {\r\n        console.log(errors);\r\n        message.error('未参加成功，请重新点击！');\r\n      });\r\n}\r\n\r\nfunction cancelCallback() {\r\n  message.success('111111')\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAuBA,UAAA,UAAA;AACA,UAAA,YAAA,IAAA,KAAA;AACA,UAAA,KAAA,iBAAA,OAAA;AAEA,aAAA,aAAA;AACE,YAAA,WAAA,IAAA;AACA,eAAA,OAAA,MAAA,EAAA;AAEA,YAAA;AAAA,QAAM,QAAA;AAAA,QACI,KAAA,MAAA;AAAA,QACG,MAAA;AAAA,QACL,SAAA;AAAA,UACG,OAAA,eAAA,QAAA,OAAA;AAAA,UAC8B,gBAAA;AAAA,QACrB;AAAA,MAClB,CAAA,EAAA,KAAA,CAAA,aAAA;AAGI,gBAAA,IAAA,SAAA,IAAA;AACA,cAAA,UAAA;AACA,uBAAA,EAAA,UAAA;AACA,gBAAA,QAAA,UAAA;AAAA,MAA0B,CAAA,EAAA,MAAA,CAAA,WAAA;AAG1B,gBAAA,IAAA,MAAA;AACA,gBAAA,MAAA,cAAA;AAAA,MAA4B,CAAA;AAAA,IAC7B;AAGP,aAAA,iBAAA;AACE,cAAA,QAAA,QAAA;AAAA,IAAwB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}