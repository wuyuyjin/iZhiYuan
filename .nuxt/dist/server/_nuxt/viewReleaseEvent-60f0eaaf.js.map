{"version":3,"file":"viewReleaseEvent-60f0eaaf.js","sources":["../../../../stores/viewReleaseEventInfo.ts","../../../../components/viewReleaseEventComponent.vue","../../../../pages/adminInfo/viewReleaseEvent.vue"],"sourcesContent":["import {defineStore} from \"pinia\";\r\n\r\nexport const viewReleaseEventInfo = defineStore('useViewReleaseEventInfo',()=>{\r\n\r\n    const useViewReleaseEventInfo =[\r\n        {\r\n            beginTime: null,\r\n            belongingAdimit: '',\r\n            id: '',\r\n            lateTime: null,\r\n            location: '',\r\n            maxpeople: '',\r\n            name: '',\r\n            time: ''\r\n        }]\r\n\r\n    return {\r\n        useViewReleaseEventInfo\r\n    }\r\n})","<template>\r\n\r\n  <NButton @click=\"personal\" type=\"info\">获取信息</NButton>\r\n  <n-data-table\r\n      pagination-behavior-on-filter=\"first\"\r\n      :columns=\"columns\"\r\n      :pagination=\"pagination\"\r\n      :data=\"viewReleaseEventInfo().useViewReleaseEventInfo\"\r\n  />\r\n  <!--  data是用来获取当前vue文件的数据-->\r\n  <!--  {{data}}-->\r\n  <!--  data.value是用来获取ts文件里的数据-->\r\n  <!--  {{ data.value }}-->\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport {DataTableColumns} from 'naive-ui'\r\nimport axios from \"axios\";\r\nimport api from \"~/api/api\";\r\nimport {viewReleaseEventInfo} from \"~/stores/viewReleaseEventInfo\";\r\nimport {useType} from \"~/stores/type\";\r\n\r\ntype RowData = {\r\n  beginTime: null,\r\n  belongingAdimit: string,\r\n  id: string,\r\n  lateTime: null,\r\n  location: string,\r\n  maxpeople: string,\r\n  name: string,\r\n  time: string\r\n}\r\n\r\nconst columns: DataTableColumns<RowData> = [\r\n  {\r\n    title: '开始时间',\r\n    key: 'beginTime'\r\n  },\r\n  {\r\n    title: '结束时间',\r\n    key: 'lateTime',\r\n  },\r\n  {\r\n    title: '举办方',\r\n    key: 'belongingAdimit'\r\n  },\r\n  {\r\n    title: 'id',\r\n    key: 'id'\r\n  },\r\n  {\r\n    title: '活动地点',\r\n    key: 'location',\r\n  },\r\n  {\r\n    title: '人数',\r\n    key: 'maxpeople',\r\n  },\r\n  {\r\n    title: '活动名称',\r\n    key: 'name',\r\n  },\r\n  {\r\n    title: '志愿时长',\r\n    key: 'time'\r\n  }\r\n]\r\n\r\n\r\n\r\nconst data: RowData[] = [\r\n  {\r\n    beginTime: null,\r\n    belongingAdimit: '',\r\n    id: '',\r\n    lateTime: null,\r\n    location: '',\r\n    maxpeople: '',\r\n    name: '',\r\n    time: ''\r\n  },\r\n]\r\n\r\n\r\n\r\n// data.value = viewReleaseEventInfo().useViewReleaseEventInfo\r\n\r\nconst personal = (row: RowData) => {\r\n  if (sessionStorage.getItem('type') == 'admit') {\r\n    axios.get(api + '/Admin/findMyActivity', {\r\n      headers: {token: sessionStorage.getItem('token')}\r\n    })\r\n        .then(response => {\r\n          // console.log(row)\r\n          viewReleaseEventInfo().useViewReleaseEventInfo = response.data.data\r\n          console.log(viewReleaseEventInfo().useViewReleaseEventInfo)\r\n          // console.log(viewReleaseEventInfo().useViewReleaseEventInfo)\r\n          console.log(22222)\r\n          // data.value = response.data.data\r\n\r\n          console.log(data.value)\r\n        }).catch(errors => {\r\n      console.log(1111)\r\n      console.log(errors)\r\n\r\n    })\r\n  } else {\r\n    axios.get(api + '/User/findMyAllActivity', {\r\n      headers: {token: sessionStorage.getItem('token')}\r\n    })\r\n        .then(response => {\r\n          // console.log(row)\r\n          viewReleaseEventInfo().useViewReleaseEventInfo = response.data.data\r\n          // console.log(viewReleaseEventInfo().useViewReleaseEventInfo)\r\n          console.log(22222)\r\n          // data.value = response.data.data\r\n          console.log(data.value)\r\n        }).catch(errors => {\r\n      console.log(1111)\r\n      console.log(errors)\r\n    })\r\n  }\r\n\r\n}\r\n\r\n</script>","<template>\r\n  <div class=\"container mx-auto w-3/4 mt-5\">\r\n    <NavigationBar/>\r\n    <n-space vertical class=\"mt-5\">\r\n      <n-layout has-sider>\r\n        <n-layout-sider\r\n            bordered\r\n            collapse-mode=\"width\"\r\n            :collapsed-width=\"64\"\r\n            :width=\"240\"\r\n            show-trigger\r\n            :inverted=\"inverted\"\r\n        >\r\n          <n-menu\r\n              :inverted=\"inverted\"\r\n              :collapsed-width=\"64\"\r\n              :collapsed-icon-size=\"22\"\r\n              :options=\"menuOptions\"\r\n          />\r\n        </n-layout-sider>\r\n        <n-layout>\r\n          <n-message-provider>\r\n           <ViewReleaseEventComponent />\r\n          </n-message-provider>\r\n        </n-layout>\r\n      </n-layout>\r\n    </n-space>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport NavigationBar from \"~/pages/FunctionalArea/navigationBar.vue\";\r\nimport {h, Component} from 'vue'\r\nimport {NIcon} from 'naive-ui'\r\nimport {\r\n  BookOutline as BookIcon,\r\n} from '@vicons/ionicons5'\r\nimport axios from \"axios\";\r\nimport api from \"~/api/api\";\r\nimport {useMyInfo} from \"~/stores/myInfo\";\r\nimport {useType} from \"~/stores/type\";\r\n\r\nfunction renderIcon(icon: Component) {\r\n  return () => h(NIcon, null, {default: () => h(icon)})\r\n}\r\n\r\nconst menuOptions = [\r\n  {\r\n    label: () => h(\r\n        \"a\",\r\n        {\r\n          href: \"/adminInfo/personalInformation\",\r\n          target: \"_self\",\r\n          rel: \"noopenner noreferrer\",\r\n        },\r\n        \"个人信息\"\r\n    ),\r\n    key: \"hear-the-wind-sing\",\r\n    icon: renderIcon(BookIcon)\r\n  },\r\n  {\r\n    label: () => h(\r\n        \"a\",\r\n        {\r\n          href: \"/adminInfo/viewReleaseEvent\",\r\n          target: \"_self\",\r\n          rel: \"noopenner noreferrer\"\r\n        },\r\n        // sessionStorage.getItem('type') ==='admit'?'已发布的活动':'查看我参加的活动'\r\n        // useType().type.type === 'admit'?'已发布的活动':'查看我参加的活动'\r\n        '查看活动'\r\n    ),\r\n    key: 'pinball-1973',\r\n    icon: renderIcon(BookIcon),\r\n  },\r\n  {\r\n    label: () => h(\r\n        \"a\",\r\n        {\r\n          href: \"/adminInfo/changePassword\",\r\n          target: \"_self\",\r\n          rel: \"noopenner noreferrer\"\r\n        },\r\n        \"修改密码\"\r\n    ),\r\n    key: 'a-wild-sheep-chase',\r\n    disabled: false,\r\n    icon: renderIcon(BookIcon)\r\n  },\r\n  {\r\n    label: '暂时没有想好',\r\n    key: 'dance-dance-dance',\r\n    icon: renderIcon(BookIcon),\r\n    disabled: true\r\n  }\r\n]\r\n\r\nfunction personal() {\r\n  // axios.get(api+'/Admin/showMyMessage',{\r\n  //   headers: {token: sessionStorage.getItem('token')}\r\n  // })\r\n  //     .then(response => {\r\n  //       console.log(response)\r\n  //       useMyInfo().myInfo.email = response.data.data.email\r\n  //       useMyInfo().myInfo.password = response.data.data.password\r\n  //       // useMyInfo().myInfo = response.data.data\r\n  //       console.log('useMyInfo().myInfo='+useMyInfo().myInfo.email)\r\n  //     }).catch(errors => {\r\n  //   console.log(errors)\r\n  // })\r\n\r\n  console.log(123311332)\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"names":["BookIcon"],"mappings":"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"}